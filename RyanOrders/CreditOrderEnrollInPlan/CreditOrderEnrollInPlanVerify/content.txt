!lastmodified -----
!1 This test page will verify CreditOrderEnrollInPlan.
!define client {D0X}
##!define COMMAND_PATTERN {java -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=1044 -cp %p %m}

!|dbfit.DB2Test|
!|ConnectUsingFile|c:\Users\mpatrick\Downloads\FitnesseWiki\FitnesseRoot\files\lib\connect.properties|

!3 XORDERSUM0
!|set option|fixed length string parsing|true|
!|OrderedQuery| select ACCTNBR, PRODABBR, ORDERNBR, PROMKEY, ORDERENTRY, CREDITSTS, ORDSTATUS, ORDSETCODE, TOTORDVAL, TOTPRODVAL, TOTTAXES, TOTPOSTHAN, AMTDUE, TOTPAID, DLVRYMETH, INVOICENBR, CONTSW, FASTSHPNBR, INSTALLSW, INSTALLAMD, OSSHMETH, PLANCODE, INETORDNBR, PRESETTYP, PRESETAMT from CLTLIB${client}.XORDERSUM0 order by ORDERNBR desc FETCH FIRST 1 ROWS ONLY|
|ACCTNBR?|PRODABBR|ORDERNBR?|PROMKEY|ORDERENTRY|CREDITSTS|ORDSTATUS|ORDSETCODE|TOTORDVAL|TOTPRODVAL|TOTTAXES|TOTPOSTHAN|AMTDUE|TOTPAID|DLVRYMETH|INVOICENBR|CONTSW|FASTSHPNBR|INSTALLSW|INSTALLAMD|OSSHMETH|PLANCODE|INETORDNBR|PRESETTYP|PRESETAMT|
|>>acctDonorReturned|BHE|>>orderDonorReturned|1SF6O1A017|B|A|A|A|0.00|0.00|0.00|0.00|0.00|0.00|' '|1000|A|0000000000|N|0.00|A|>>planCodeReturned|'TEST13           '|'  '|0.00|

!3 XORDERDTL0
!|OrderedQuery| select ACCTNBR, ORDERNBR, PRODNBR, ORDDETSTAT, SERVICECDE, ORDERTYPE, PAYTYPE, QTYORDERED, PRODVALUE, DSACCTNBR, SHIPIND, CDSTRKNUM, ITMSHVAL, ITMSEQNUM, ITMQTYCAN, QTYTORSHP, PROMKEY, PRODTAXES from CLTLIB${client}.XORDERDTL0 where ORDERNBR = :orderDonorReturned and ACCTNBR = :acctDonorReturned order by ITMSEQNUM|
|ACCTNBR|ORDERNBR|PRODNBR|ORDDETSTAT|SERVICECDE|ORDERTYPE|PAYTYPE|QTYORDERED|PRODVALUE|DSACCTNBR|SHIPIND|CDSTRKNUM|ITMSHVAL|ITMSEQNUM|ITMQTYCAN|QTYTORSHP|PROMKEY|PRODTAXES|
|<<acctDonorReturned|<<orderDonorReturned|'250201332S  '|A|'C '|N|A|1|0.00|0|N|0|0.00|1|0|0|1SF6O1A017|0.00|

!3 XNAME0
!|OrderedQuery| select ACCTNBR, ZIPCODE, NAMETYPE, NAME, ADDRLINE1, DELIVERYSW, CUSTSTS, PROMSTS, BIRTHMO, BIRTHDAY, BIRTHYR, STATEABBR, CURRTYPE, MDBACCTNBR, PSTATSWEEP, PSTATTELE, PSTATENVIR, PSTATMAG, PSTATCONT, SPECIALSTS from CLTLIB${client}.XNAME0 where ACCTNBR = :acctDonorReturned|
|ACCTNBR|ZIPCODE|NAMETYPE|NAME|ADDRLINE1|DELIVERYSW|CUSTSTS|PROMSTS|STATEABBR|CURRTYPE|MDBACCTNBR|PSTATSWEEP|PSTATTELE|PSTATENVIR|PSTATMAG|PSTATCONT|SPECIALSTS|
|<<acctDonorReturned|'51525 '|'1'|'TIMCARPENTER                 '|'8256 DIXON DR                 '|A|N|N|'  '|' '|0|N|N|N|' '|N|N|

##!3 XCRDTCARD0
##!|OrderedQuery| select ACCTNBR, TRANSNBR, PLANCODE, DSACCTNBR, ORDERNBR, CRCARDTYPE, CRCARD4, CRCARDEXP from CLTLIB${client}.XCRDTCARD0 where ACCTNBR = :acctDonorReturned and ORDERNBR = :orderDonorReturned|
##|ACCTNBR|TRANSNBR|PLANCODE|ORDERNBR|CRCARDTYPE|CRCARD4|CRCARDEXP|
##|<<acctDonorReturned|<<orderDonorReturned|'   '|<<orderDonorReturned|MC|2213|1124|

!3 XCUSTSUM0
!|OrderedQuery| select ACCTNBR, PRODABBR, STRPROMKEY, BALANCE, TIMESORD, TIMESRTN, TOTRTNVAL, TOTPRODORD, TOTVALUE, TOTPDVALUE, CONTINFO, CUSTGFTST, CUSTCNTID, CUSTCRDCD, TOTNPD, CREDCARDAR from CLTLIB${client}.XCUSTSUM0 where ACCTNBR = :acctDonorReturned|
|ACCTNBR|PRODABBR|STRPROMKEY|BALANCE|TIMESORD|TIMESRTN|TOTRTNVAL|TOTPRODORD|TOTVALUE|TOTPDVALUE|CONTINFO|CUSTGFTST|CUSTCNTID|CUSTCRDCD|TOTNPD|CREDCARDAR|
|<<acctDonorReturned|BHE|1SF6O1A017|0.00|1|0|0.00|1|0.00|0.00|'                         '|B|' '|' '|0|0.00|

!3 XCUSTGEN0
!|OrderedQuery| select * from CLTLIB${client}.XCUSTGEN0 where ACCTNBR = :acctDonorReturned and PLANCODE = :planCodeReturned|
|PRODABBR|PLANCODE|ACCTNBR|DSACCTNBR|PLANSTATUS|RESSVCDATE|FUTSUSDATE|ORDERTYPE|QTYORDERED|NEGPOSOPT|SELFREQ|NOUNPCRED|UNPDDLLALL|UNPDOLLARS|INITORDPD|NORETURNS|NOCANCELS|
|BHE|<<planCodeReturned|<<acctDonorReturned|0|A|0|0|B|1|N|0|2|0.00|0.00|Y|0|0|

##!3 XACTIVITY0
## The only activity with this order is an 06, whose TRANSNBR will match the ORDERNBR.
##!|Query| select ACCTNBR, TRANSNBR, TRANSTYPE from CLTLIB${client}.XACTIVITY0 where TRANSNBR = :orderDonorReturned and ACCTNBR = :acctDonorReturned|
##|ACCTNBR|TRANSNBR|TRANSTYPE|
##|<<acctDonorReturned|<<orderDonorReturned|06|
