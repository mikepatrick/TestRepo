!|dbfit.DB2Test|
!|ConnectUsingFile|FitNesseRoot/files/lib/connect.properties|


##include .ServPfTestDevelopment.DbFitExamples.GetConnection
!|set option|fixed length string parsing|true|



##!3 Now verify the 14 activities that relate to this order. We don't verify transaction number this time, since we don't know it.

!|Query|!- select * from (                                    
SELECT ACCTNBR, TRANSNBR,OPERID, TRANSTYPE,        
  SUBSTR(HEX(ACTMISC),1,15) AS BPORDNBR,           
  SUBSTR(ACTMISC,9,1) AS BPPYMTIND,                
  SUBSTR(HEX(ACTMISC),19,7) AS BPAMT,              
  SUBSTR(ACTMISC,14,1) AS BPTYPE,                  
  SUBSTR(ACTMISC,15,2) AS BPRSN,                   
  SUBSTR(ACTMISC,17,10) AS BILLKEY,                
  SUBSTR(HEX(ACTMISC),53,5) AS BPINVC,             
  SUBSTR(HEX(ACTMISC),59,15) AS BPORDER,           
  SUBSTR(HEX(ACTMISC),75,7) AS BPLATEFEE,          
  SUBSTR(HEX(ACTMISC),83,7) AS ORIGAMT             
    FROM CLTLIBDTX.XACTIVITY0 WHERE TRANSTYPE = 14 
          AND ACCTNBR = 300013703 ) as craigstable 
           WHERE CRAIGSTABLE.BPORDNBR = 110159112915001            -!|
|ACCTNBR?|TRANSNBR?|OPERID?|TRANSTYPE?|BPORDNBR?|BPPYMTIND?|BPAMT?|BPTYPE?|BPRSN?|BILLKEY?|BPINVC?|BPORDER?|BPLATEFEE?|ORIGAMT?|
|300013703 |  |0| 14| 110159112915001| A|0009836| B| NC|  | 01001| 110159112915001| 0000000| 0000000|

!|Query|SELECT ACCTNBR, ZIPCODE, PREFCITYCD, NAMETYPE, NAMEPREFIX, ADDRLINE1, ADDRLINE2, ADDRLINE3, ADDRFROMDT, ADDRTHRUDT, CMBACCTNBR, MATCHCODE, DUPMATCHSW, TELEPHONE, EVEPHONENB, CARRTEZIP4, DELIVERYSW, CUSTSTS, PROMSTS, BIRTHMO, BIRTHDAY, BIRTHYR, STATEABBR, CLNTACCTNO, FXNUMBR, CURRTYPE, MDBACCTNBR, PSTATSWEEP, PSTATTELE, PSTATENVIR, PSTATMAG, PSTATCONT, DELIVERYPT, CARRYRTE, BYPASSSW, SPECIALSTS FROM CLTLIBDTX.XNAME0 WHERE ACCTNBR = 300013703|
|ACCTNBR?| ZIPCODE?| PREFCITYCD?| NAMETYPE?| NAMEPREFIX?| ADDRLINE1?| ADDRLINE2?| ADDRLINE3?| ADDRFROMDT?| ADDRTHRUDT?| CMBACCTNBR?| MATCHCODE?| DUPMATCHSW?| TELEPHONE?| EVEPHONENB?| CARRTEZIP4?| DELIVERYSW?| CUSTSTS?| PROMSTS?| BIRTHMO?| BIRTHDAY?| BIRTHYR?| STATEABBR?| CLNTACCTNO?| FXNUMBR?| CURRTYPE?| MDBACCTNBR?| PSTATSWEEP?| PSTATTELE?| PSTATENVIR?| PSTATMAG?| PSTATCONT?| DELIVERYPT?| CARRYRTE?| BYPASSSW?| SPECIALSTS?|
|300013703| '50315 '| 0| 1|| '22121 SOUTH CREDIT LN         '||| 110026| 199365| 0| CED2221CRE&&&|| 0| 0|| A| N| N| 0| 0| 0||| 0|| 0| N| N| N|| N||| N| N|

!|Query|SELECT * FROM CLTLIBDTX.XCUSTSUM0 WHERE ACCTNBR = 300013703|
|ACCTNBR?| PRODABBR?| STRPROMDT?| STRPROMKEY?| LSTPROMDT?| LSTPROMKEY?| BALANCE?| TIMESORD?| TIMESRTN?| TOTRTNVAL?| TOTPRODORD?| TOTVALUE?| TOTPDVALUE?| CONTINFO?| TAXEXCODE?| LSTBILLKEY?| MEMBRID?| MEMEXPDT?| CUSTGFTST?| CUSTCNTID?| CUSTCRDCD?| COLLECTAGY?| TOTNPD?| LSTNPDDT?| MAXSSEFF?| MX2SSEFF?| MAXFPPEFF?| MX2FPPEFF?| MAX2PPEFF?| MX22PPEFF?| MAXSEREFF?| MX2SEREFF?| LSTCOLLDT?| HBSTATUS?| MODIFYSW?| MODIFYDT?| CREDCARDAR?|
|300013703| TLU| 110027| C96AS5B025| 0|| -277.91| 2| 0| 0.00| 6| 571.75| 0.00|| 00000000000000000|| N| 0| B|||| 0| 0| 0| 0| 0| 0| 0| 0| 0| 0| 0||| 0| 0.00|

!|Query|SELECT * FROM CLTLIBDTX.XORDERSUM0 WHERE ACCTNBR = 300013703 AND ORDERNBR = 110159112915001|
|ACCTNBR?| PRODABBR?| ORDERNBR?| OPERID?| PROMKEY?| ORDERENTRY?| CREDITSTS?| ORDSTATUS?| ORDSETCODE?| SOURCECODE?| NBRPRODORD?| TOTORDVAL?| TOTPRODVAL?| TOTTAXES?| TOTPOSTHAN?| TOTMISC?| TOTDISC?| AMTDUE?| TOTPAID?| TOTCOUPON?| PONUMBER?| DLVRYMETH?| MAILRCVDT?| DEPOSITDAT?| BATCHNBR?| BILLKEY?| INVOICENBR?| PRVBILLAMT?| LASTBILLDT?| CONTSW?| FASTSHPNBR?| INSTALLSW?| ANCLLRYSW?| INSTALLALW?| INSTALLSNT?| INSTALLAMT?| INSTALLAMD?| OSSHMETH?| OSOVRSHSW?| GFTCERTVAL?| SLSREPNUM?| ORCURRTYPE?| PLANCODE?| INETORDNBR?| SPPRODAGE?| ORDDPN?| INCRIND?| PAIDDATE?| INVOICESTS?| BILLGROUP?| LFOUTSTAND?| WARNEFFORT?| TAXTYPE?| TAXRATEST?| TAXRATECO?| TAXRATECI?| TAXRATEDI?| PREVIEWVAL?| PRESETTYP?| PRESETAMT?| LSTINSRTDT?|
|300013703| TLU| 110159112915001| 594| C96AS5B025| C| A| A| A| 5| 3| 277.91| 233.91| 14.03| 29.97| 0.00| 0.00| 277.91| 0.00| 0.00||| 110159| 110159| 1000|| 1001| 0.00| 0| N| 0000000000| N|| 00| 00| 0.00| 0.00| A| N| 0.00| 0|||| 0| 0|| 0|| DSC111| 0.00|| S| 0.060000| 0.000000| 0.000000| 0.000000| 0.00|| 0.00| 0|

!|Query|SELECT * FROM CLTLIBDTX.XORDERSUM0 WHERE ACCTNBR = 300013703 AND ORDERNBR = 110027135449009|
|ACCTNBR?| PRODABBR?| ORDERNBR?| OPERID?| PROMKEY?| ORDERENTRY?| CREDITSTS?| ORDSTATUS?| ORDSETCODE?| SOURCECODE?| NBRPRODORD?| TOTORDVAL?| TOTPRODVAL?| TOTTAXES?| TOTPOSTHAN?| TOTMISC?| TOTDISC?| AMTDUE?| TOTPAID?| TOTCOUPON?| PONUMBER?| DLVRYMETH?| MAILRCVDT?| DEPOSITDAT?| BATCHNBR?| BILLKEY?| INVOICENBR?| PRVBILLAMT?| LASTBILLDT?| CONTSW?| FASTSHPNBR?| INSTALLSW?| ANCLLRYSW?| INSTALLALW?| INSTALLSNT?| INSTALLAMT?| INSTALLAMD?| OSSHMETH?| OSOVRSHSW?| GFTCERTVAL?| SLSREPNUM?| ORCURRTYPE?| PLANCODE?| INETORDNBR?| SPPRODAGE?| ORDDPN?| INCRIND?| PAIDDATE?| INVOICESTS?| BILLGROUP?| LFOUTSTAND?| WARNEFFORT?| TAXTYPE?| TAXRATEST?| TAXRATECO?| TAXRATECI?| TAXRATEDI?| PREVIEWVAL?| PRESETTYP?| PRESETAMT?| LSTINSRTDT?|
|300013703| TLU| 110027135449009| 810| C96AS5B025| B| A| B| A| 10| 3| 359.86| 337.84| 20.27| 1.75| 0.00| 0.00| 0.00| 0.00| 0.00||| 0| 110027| 1029|| 1000| 0.00| 0| N| 0000000000| Y|| 02|| 0.00| 0.00| F| N| 0.00| 0|||| 0| 0|| 0||| 0.00|| S| 0.060000| 0.000000| 0.000000| 0.000000| 0.00|| 0.00| 0|

!|Query|SELECT * FROM CLTLIBDTX.XORDERDTL0 WHERE ACCTNBR = 300013703 AND ORDERNBR = 110159112915001|
|ACCTNBR?| PRODABBR?| ORDERNBR?| PRODNBR?| PRODSIZE?| PRODSTYLE?| PRODCOLOR?| ORDDETSTAT?| SERVICECDE?| ORDERTYPE?| PAYTYPE?| QTYORDERED?| PRODVALUE?| MISCSW?| MISCCHARGE?| SERVICEDT?| DSACCTNBR?| RESHIPDATE?| FTC1STDT?| FTC2NDDT?| FTCACPTDLY?| NOTPULLRSN?| SHIPJOBNM?| SHIPIND?| ODPRODCOST?| ODTXEXST?| ODASHPDT?| ODASHPCST?| ODASHPMTD?| SHPTRKNUM?| CDSTRKNUM?| DSTRBCDE?| PERSONALZ?| ITMSHVAL?| ITMSEQNUM?| ITMQTYRET?| ITMQTYCAN?| QTYTORSHP?| CNFRMAPDT?| PLANCODE?| GENSEQNO?| PROMKEY?| ENLISTSW?| PULLCODE?| PACKID?| PREMPACK?| ORIGPRDNBR?| ORIGPACKID?| PREMEFFT?| PREMDAYSHP?| PREMPAYTYP?| MMPSTATUS?| MMPISSUES?| MMPVALUE?| PRODTAXES?| PREVIEWVAL?| PREVIEWDYS?| DEFRINCDTE?| AMTDUE?| INSTALLSW?| ANCLLRYSW?| INSTALLAMT?| INSTALLAMD?|
|300013703| TLU| 110159112915001| '4328220292  '|||| A| 'B '| N| B| 1| 63.96|| 0.00| 110159| 0| 0| 110179| 0| N| A| N101597802| Y| 0.00|| 110159| 0.00| B| '0                             '| 1015900000002| ED1| N| 9.99| 1| 0| 0| 0| 110159|| 0| C96AS5B025|| '72  '|||||| 0||| 0| 0.00| 3.84| 0.00| 0| 0| 0.00||| 0.00| 0.00|
|300013703| TLU| 110159112915001| '4400209922  '|||| A| 'B '| N| B| 1| 159.96|| 0.00| 110159| 0| 0| 110179| 0| N| A| N101597804| Y| 0.00|| 110159| 0.00| B| '0                             '| 1015900000005| ED1| N| 9.99| 2| 0| 0| 0| 110159|| 0| C96AS5B025|| '72  '|||||| 0||| 0| 0.00| 9.60| 0.00| 0| 0| 0.00||| 0.00| 0.00|
|300013703| TLU| 110159112915001| '3700220825  '|||| A| 'B '| N| B| 1| 9.99|| 0.00| 110159| 0| 0| 110179| 0| N| A| N101597802| Y| 0.00|| 110159| 0.00| B| '0                             '| 1015900000002| ED1| N| 9.99| 3| 0| 0| 0| 110159|| 0| C96AS5B025|| '72  '|||||| 0||| 0| 0.00| 0.59| 0.00| 0| 0| 0.00||| 0.00| 0.00|

!|Query|SELECT * FROM CLTLIBDTX.XORDERDTL0 WHERE ACCTNBR = 300013703 AND ORDERNBR = 110027135449009|
|ACCTNBR?| PRODABBR?| ORDERNBR?| PRODNBR?| PRODSIZE?| PRODSTYLE?| PRODCOLOR?| ORDDETSTAT?| SERVICECDE?| ORDERTYPE?| PAYTYPE?| QTYORDERED?| PRODVALUE?| MISCSW?| MISCCHARGE?| SERVICEDT?| DSACCTNBR?| RESHIPDATE?| FTC1STDT?| FTC2NDDT?| FTCACPTDLY?| NOTPULLRSN?| SHIPJOBNM?| SHIPIND?| ODPRODCOST?| ODTXEXST?| ODASHPDT?| ODASHPCST?| ODASHPMTD?| SHPTRKNUM?| CDSTRKNUM?| DSTRBCDE?| PERSONALZ?| ITMSHVAL?| ITMSEQNUM?| ITMQTYRET?| ITMQTYCAN?| QTYTORSHP?| CNFRMAPDT?| PLANCODE?| GENSEQNO?| PROMKEY?| ENLISTSW?| PULLCODE?| PACKID?| PREMPACK?| ORIGPRDNBR?| ORIGPACKID?| PREMEFFT?| PREMDAYSHP?| PREMPAYTYP?| MMPSTATUS?| MMPISSUES?| MMPVALUE?| PRODTAXES?| PREVIEWVAL?| PREVIEWDYS?| DEFRINCDTE?| AMTDUE?| INSTALLSW?| ANCLLRYSW?| INSTALLAMT?| INSTALLAMD?|
|300013703| TLU| 110027135449009| '4328220292  '|||| B| 'C '| N| N| 2| 63.96|| 0.00| 0| 0| 0| 110047| 0| N| A|| Y| 0.00|| 0| 0.00||| 0|| N| 0.58| 1| 0| 2| 0| 0|| 0| C96AS5B025|||||||| 0||| 0| 0.00| 7.68| 0.00| 0| 0| 0.00||| 0.00| 0.00|
|300013703| TLU| 110027135449009| '3700215461  '|||| B| 'C '| N| N| 2| 59.98|| 0.00| 0| 0| 0| 110047| 0| N| A|| Y| 0.00|| 0| 0.00||| 0|| N| 0.58| 2| 0| 2| 0| 0|| 0| C96AS5B025|||||||| 0||| 0| 0.00| 7.20| 0.00| 0| 0| 0.00||| 0.00| 0.00|
|300013703| TLU| 110027135449009| '3700215451  '|||| B| 'C '| N| N| 2| 44.98|| 0.00| 0| 0| 0| 110047| 0| N| A|| Y| 0.00|| 0| 0.00||| 0|| N| 0.59| 3| 0| 2| 0| 0|| 0| C96AS5B025|||||||| 0||| 0| 0.00| 5.39| 0.00| 0| 0| 0.00||| 0.00| 0.00|

!|Query|!- select * from (                                    
SELECT ACCTNBR, TRANSNBR,OPERID, TRANSTYPE,        
   SUBSTR(HEX(ACTMISC),1 ,15) AS ORDNBR,               
  SUBSTR(HEX(ACTMISC),17,15) AS TRNSNBR,
  SUBSTR(HEX(ACTMISC),33,7) AS VOIDDATE,
  SUBSTR(HEX(ACTMISC),41,7) AS VOIDAMT, 
  SUBSTR(ACTMISC,25,1) AS VOIDRSN,
  SUBSTR(ACTMISC,26,1) AS VOIDSTS 
        FROM CLTLIBDTX.XACTIVITY0 WHERE TRANSTYPE = 47
         AND ACCTNBR = 300013703  ) as craigstable 
           WHERE CRAIGSTABLE.ORDNBR = 110159112915001 AND CRAIGSTABLE.VOIDAMT = 0017955            -!|
|ACCTNBR?| TRANSNBR?| OPERID?| TRANSTYPE?| ORDNBR?| TRNSNBR?| VOIDDATE?| VOIDAMT?| VOIDRSN?| VOIDSTS?|
|300013703|  | 0| 47| 110159112915001| 110159120314000|  | 0017955| E| A|

!|Query|!- select * from (     
SELECT ACCTNBR, TRANSNBR,OPERID, TRANSTYPE, 
SUBSTR(HEX(ACTMISC),1 ,15) AS ORDNBR,               
    SUBSTR(ACTMISC,9,1) AS CCIND,                 
    SUBSTR(HEX(ACTMISC),19,7) AS CCAMT,                   
    SUBSTR(HEX(ACTMISC),27,7) AS CCDATE,               
    SUBSTR(HEX(ACTMISC),35,5) AS INVOICE,                   
    SUBSTR(ACTMISC,21,2) AS RJCTRSN,                
    SUBSTR(HEX(ACTMISC),45,3) AS SEQNBR,                
    SUBSTR(ACTMISC,25,6) AS AUTHCODE,                   
    SUBSTR(ACTMISC,31,6) AS AUTHDATE,
    SUBSTR(ACTMISC,37,14) AS AUTHREFNBR,               
    SUBSTR(HEX(ACTMISC),101,7) AS ORIGAMT,
    SUBSTR(ACTMISC,55,2) AS PRESETTYPE
         FROM CLTLIBDTX.XACTIVITY0 WHERE TRANSTYPE = 16
          AND ACCTNBR = 300013703 ) as craigstable 
            WHERE CRAIGSTABLE.TRANSNBR = 110159120314000            -!|
|ACCTNBR?|TRANSNBR?|OPERID?|TRANSTYPE?|ORDNBR?|CCIND?|CCAMT?|CCDATE?|INVOICE?|RJCTRSN?|SEQNBR?|AUTHCODE?|AUTHDATE?|AUTHREFNBR?|ORIGAMT?|PRESETTYPE?|
|300013703|110159120314000 |0|16|110159112915001|G|0017955|0110159|01001||000||000000||0017955||

!|Query|!- select * from (     
SELECT ACCTNBR, TRANSNBR,OPERID, TRANSTYPE, 
SUBSTR(HEX(ACTMISC),1 ,15) AS ORDNBR,               
    SUBSTR(ACTMISC,9,1) AS CCIND,                 
    SUBSTR(HEX(ACTMISC),19,7) AS CCAMT,                   
    SUBSTR(HEX(ACTMISC),27,7) AS CCDATE,               
    SUBSTR(HEX(ACTMISC),35,5) AS INVOICE,                   
    SUBSTR(ACTMISC,21,2) AS RJCTRSN,                
    SUBSTR(HEX(ACTMISC),45,3) AS SEQNBR,                
    SUBSTR(ACTMISC,25,6) AS AUTHCODE,                   
    SUBSTR(ACTMISC,31,6) AS AUTHDATE,
    SUBSTR(ACTMISC,37,14) AS AUTHREFNBR,               
    SUBSTR(HEX(ACTMISC),101,7) AS ORIGAMT,
    SUBSTR(ACTMISC,55,2) AS PRESETTYPE
         FROM CLTLIBDTX.XACTIVITY0 WHERE TRANSTYPE = 16
          AND ACCTNBR = 300013703 ) as craigstable 
            WHERE CRAIGSTABLE.TRANSNBR = 110159115756000            -!|
|ACCTNBR?|TRANSNBR?|OPERID?|TRANSTYPE?|ORDNBR?|CCIND?|CCAMT?|CCDATE?|INVOICE?|RJCTRSN?|SEQNBR?|AUTHCODE?|AUTHDATE?|AUTHREFNBR?|ORIGAMT?|PRESETTYPE?|
|300013703|110159115756000 |0|16|110159112915001|D|0009836|0110159|01001||000||000000||0009836||
