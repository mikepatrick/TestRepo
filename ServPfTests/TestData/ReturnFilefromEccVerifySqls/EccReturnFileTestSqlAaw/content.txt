!|dbfit.DB2Test|
!|ConnectUsingFile|FitNesseRoot/files/lib/connect.properties|


##include .ServPfTestDevelopment.DbFitExamples.GetConnection
!|set option|fixed length string parsing|true|



##!3 Now verify the 14 activities that relate to this order. We don't verify transaction number this time, since we don't know it.

!|Query|!- select * from (                                    
SELECT ACCTNBR, TRANSNBR,OPERID, TRANSTYPE,        
  SUBSTR(HEX(ACTMISC),1,15) AS BPORDNBR,           
  SUBSTR(ACTMISC,9,1) AS BPPYMTIND,                
  SUBSTR(HEX(ACTMISC),19,7) AS BPAMT,              
  SUBSTR(ACTMISC,14,1) AS BPTYPE,                  
  SUBSTR(ACTMISC,15,2) AS BPRSN,                   
  SUBSTR(ACTMISC,17,10) AS BILLKEY,                
  SUBSTR(HEX(ACTMISC),53,5) AS BPINVC,             
  SUBSTR(HEX(ACTMISC),59,15) AS BPORDER,           
  SUBSTR(HEX(ACTMISC),75,7) AS BPLATEFEE,          
  SUBSTR(HEX(ACTMISC),83,7) AS ORIGAMT             
    FROM CLTLIBDTX.XACTIVITY0 WHERE TRANSTYPE = 14 
          AND ACCTNBR = 75440495 ) as craigstable 
           WHERE CRAIGSTABLE.BPORDNBR = 111157153245001            -!|
|ACCTNBR?|TRANSNBR?|OPERID?|TRANSTYPE?|BPORDNBR?|BPPYMTIND?|BPAMT?|BPTYPE?|BPRSN?|BILLKEY?|BPINVC?|BPORDER?|BPLATEFEE?|ORIGAMT?|
|75440495 |  |0| 14| 111157153245001| B|0011005| B| NC|  | 01000| 111002102018005 | 0000000| 0000000|

!|Query|SELECT ACCTNBR, ZIPCODE, PREFCITYCD, NAMETYPE, NAMEPREFIX, ADDRLINE1, ADDRLINE2, ADDRLINE3, ADDRFROMDT, ADDRTHRUDT, CMBACCTNBR, MATCHCODE, DUPMATCHSW, TELEPHONE, EVEPHONENB, CARRTEZIP4, DELIVERYSW, CUSTSTS, PROMSTS, BIRTHMO, BIRTHDAY, BIRTHYR, STATEABBR, CLNTACCTNO, FXNUMBR, CURRTYPE, MDBACCTNBR, PSTATSWEEP, PSTATTELE, PSTATENVIR, PSTATMAG, PSTATCONT, DELIVERYPT, CARRYRTE, BYPASSSW, SPECIALSTS FROM CLTLIBDTX.XNAME0 WHERE ACCTNBR = 75440495|
|ACCTNBR?| ZIPCODE?| PREFCITYCD?| NAMETYPE?| NAMEPREFIX?| ADDRLINE1?| ADDRLINE2?| ADDRLINE3?| ADDRFROMDT?| ADDRTHRUDT?| CMBACCTNBR?| MATCHCODE?| DUPMATCHSW?| TELEPHONE?| EVEPHONENB?| CARRTEZIP4?| DELIVERYSW?| CUSTSTS?| PROMSTS?| BIRTHMO?| BIRTHDAY?| BIRTHYR?| STATEABBR?| CLNTACCTNO?| FXNUMBR?| CURRTYPE?| MDBACCTNBR?| PSTATSWEEP?| PSTATTELE?| PSTATENVIR?| PSTATMAG?| PSTATCONT?| DELIVERYPT?| CARRYRTE?| BYPASSSW?| SPECIALSTS?|
|75440495| '84014 '| 0| 1|| '239 W 1125 N                  '||| 111031| 199365| 0| RNE1239&&&&&&| N| 8012958395| 0| 3005| A| A| N| 0| 0| 0||| 0|| 0| N| N| N|| N| 39| R005| N| N|
|75440495| '84014 '| 0| 1|| '239 W 1125 N                  '||| 111001| 111030| 0| RNE1239&&&&&&| A| 8012958395| 0| 3005| A| N| N| 0| 0| 0||| 0|| 0| N| N| N|| N| 39| R005| N| N|

!|Query|SELECT * FROM CLTLIBDTX.XCUSTSUM0 WHERE ACCTNBR = 75440495|
|ACCTNBR?| PRODABBR?| STRPROMDT?| STRPROMKEY?| LSTPROMDT?| LSTPROMKEY?| BALANCE?| TIMESORD?| TIMESRTN?| TOTRTNVAL?| TOTPRODORD?| TOTVALUE?| TOTPDVALUE?| CONTINFO?| TAXEXCODE?| LSTBILLKEY?| MEMBRID?| MEMEXPDT?| CUSTGFTST?| CUSTCNTID?| CUSTCRDCD?| COLLECTAGY?| TOTNPD?| LSTNPDDT?| MAXSSEFF?| MX2SSEFF?| MAXFPPEFF?| MX2FPPEFF?| MAX2PPEFF?| MX22PPEFF?| MAXSEREFF?| MX2SEREFF?| LSTCOLLDT?| HBSTATUS?| MODIFYSW?| MODIFYDT?| CREDCARDAR?|
|75440495| TLU| 111002| D1JCPOT011| 0|| -110.05| 1| 0| 0.00| 1| 274.90| 165.85||| 1103X3DDCC| N| 0| B|||| 0| 0| 3| 0| 0| 0| 0| 0| 0| 0| 0||| 0| 0.00|

!|Query|SELECT * FROM CLTLIBDTX.XORDERSUM0 WHERE ACCTNBR = 75440495 AND ORDERNBR = 111002102018005|
|ACCTNBR?| PRODABBR?| ORDERNBR?| OPERID?| PROMKEY?| ORDERENTRY?| CREDITSTS?| ORDSTATUS?| ORDSETCODE?| SOURCECODE?| NBRPRODORD?| TOTORDVAL?| TOTPRODVAL?| TOTTAXES?| TOTPOSTHAN?| TOTMISC?| TOTDISC?| AMTDUE?| TOTPAID?| TOTCOUPON?| PONUMBER?| DLVRYMETH?| MAILRCVDT?| DEPOSITDAT?| BATCHNBR?| BILLKEY?| INVOICENBR?| PRVBILLAMT?| LASTBILLDT?| CONTSW?| FASTSHPNBR?| INSTALLSW?| ANCLLRYSW?| INSTALLALW?| INSTALLSNT?| INSTALLAMT?| INSTALLAMD?| OSSHMETH?| OSOVRSHSW?| GFTCERTVAL?| SLSREPNUM?| ORCURRTYPE?| PLANCODE?| INETORDNBR?| SPPRODAGE?| ORDDPN?| INCRIND?| PAIDDATE?| INVOICESTS?| BILLGROUP?| LFOUTSTAND?| WARNEFFORT?| TAXTYPE?| TAXRATEST?| TAXRATECO?| TAXRATECI?| TAXRATEDI?| PREVIEWVAL?| PRESETTYP?| PRESETAMT?| LSTINSRTDT?|
|75440495| TLU| 111002102018005| 910| D1JCPOT011| C| A| A| A| 34| 1| 275.90| 274.90| 0.00| 1.00| 0.00| 0.00| 110.05| 0.00| 0.00| '216033808           '|| 111001| 111002| 1807| 1103X3DDCC| 1000| 110.05| 111118190020| N| 0000000000| N| A| 05| 05| 54.98| 0.00| F| N| 0.00| 0|||| 0| 0|| 0| B| DSC111| 0.00|| S| 0.047000| 0.003000| 0.011000| 0.005000| 0.00|| 0.00| 0|

!|Query|SELECT * FROM CLTLIBDTX.XORDERDTL0 WHERE ACCTNBR = 75440495 AND ORDERNBR = 111002102018005|
|ACCTNBR?| PRODABBR?| ORDERNBR?| PRODNBR?| PRODSIZE?| PRODSTYLE?| PRODCOLOR?| ORDDETSTAT?| SERVICECDE?| ORDERTYPE?| PAYTYPE?| QTYORDERED?| PRODVALUE?| MISCSW?| MISCCHARGE?| SERVICEDT?| DSACCTNBR?| RESHIPDATE?| FTC1STDT?| FTC2NDDT?| FTCACPTDLY?| NOTPULLRSN?| SHIPJOBNM?| SHIPIND?| ODPRODCOST?| ODTXEXST?| ODASHPDT?| ODASHPCST?| ODASHPMTD?| SHPTRKNUM?| CDSTRKNUM?| DSTRBCDE?| PERSONALZ?| ITMSHVAL?| ITMSEQNUM?| ITMQTYRET?| ITMQTYCAN?| QTYTORSHP?| CNFRMAPDT?| PLANCODE?| GENSEQNO?| PROMKEY?| ENLISTSW?| PULLCODE?| PACKID?| PREMPACK?| ORIGPRDNBR?| ORIGPACKID?| PREMEFFT?| PREMDAYSHP?| PREMPAYTYP?| MMPSTATUS?| MMPISSUES?| MMPVALUE?| PRODTAXES?| PREVIEWVAL?| PREVIEWDYS?| DEFRINCDTE?| AMTDUE?| INSTALLSW?| ANCLLRYSW?| INSTALLAMT?| INSTALLAMD?|
|75440495| TLU| 111002102018005| '445525552D  '|||| A| 'B '| N| B| 1| 274.90|| 0.00| 111049| 0| 0| 111051| 0| A| A| N110410Z66| Y| 0.00|| 111049| 0.00| 2| '9102927009376026382941        '| 1104900000774| INN| N| 1.00| 1| 0| 0| 0| 111049|| 0| D1JCPOT011|| '72  '|||||| 0||| 0| 0.00| 0.00| 0.00| 0| 0| 0.00||| 0.00| 0.00|

!|Query|!- select * from (     
SELECT ACCTNBR, TRANSNBR,OPERID, TRANSTYPE, 
SUBSTR(HEX(ACTMISC),1 ,15) AS ORDNBR,               
    SUBSTR(ACTMISC,9,1) AS CCIND,                 
    SUBSTR(HEX(ACTMISC),19,7) AS CCAMT,                   
    SUBSTR(HEX(ACTMISC),27,7) AS CCDATE,               
    SUBSTR(HEX(ACTMISC),35,5) AS INVOICE,                   
    SUBSTR(ACTMISC,21,2) AS RJCTRSN,                
    SUBSTR(HEX(ACTMISC),45,3) AS SEQNBR,                
    SUBSTR(ACTMISC,25,6) AS AUTHCODE,                   
    SUBSTR(ACTMISC,31,6) AS AUTHDATE,
    SUBSTR(ACTMISC,37,14) AS AUTHREFNBR,               
    SUBSTR(HEX(ACTMISC),101,7) AS ORIGAMT,
    SUBSTR(ACTMISC,55,2) AS PRESETTYPE
         FROM CLTLIBDTX.XACTIVITY0 WHERE TRANSTYPE = 16
          AND ACCTNBR = 75440495  ) as craigstable 
            WHERE CRAIGSTABLE.TRANSNBR = 111157153245001            -!|
|ACCTNBR?|TRANSNBR?|OPERID?|TRANSTYPE?|ORDNBR?|CCIND?|CCAMT?|CCDATE?|INVOICE?|RJCTRSN?|SEQNBR?|AUTHCODE?|AUTHDATE?|AUTHREFNBR?|ORIGAMT?|PRESETTYPE?|
|75440495|111157153245001|717|16|111157153245001|D|0011005| |00000||000||000000||0011005||
