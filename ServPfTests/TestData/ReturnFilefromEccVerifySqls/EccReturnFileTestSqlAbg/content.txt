!|dbfit.DB2Test|
!|ConnectUsingFile|FitNesseRoot/files/lib/connect.properties|


##include .ServPfTestDevelopment.DbFitExamples.GetConnection
!|set option|fixed length string parsing|true|



##!3 Now verify the 14 activities that relate to this order. We don't verify transaction number this time, since we don't know it.

!|Query|!- select * from (                                    
SELECT ACCTNBR, TRANSNBR,OPERID, TRANSTYPE,        
  SUBSTR(HEX(ACTMISC),1,15) AS BPORDNBR,           
  SUBSTR(ACTMISC,9,1) AS BPPYMTIND,                
  SUBSTR(HEX(ACTMISC),19,7) AS BPAMT,              
  SUBSTR(ACTMISC,14,1) AS BPTYPE,                  
  SUBSTR(ACTMISC,15,2) AS BPRSN,                   
  SUBSTR(ACTMISC,17,10) AS BILLKEY,                
  SUBSTR(HEX(ACTMISC),53,5) AS BPINVC,             
  SUBSTR(HEX(ACTMISC),59,15) AS BPORDER,           
  SUBSTR(HEX(ACTMISC),75,7) AS BPLATEFEE,          
  SUBSTR(HEX(ACTMISC),83,7) AS ORIGAMT             
    FROM CLTLIBDTX.XACTIVITY0 WHERE TRANSTYPE = 14 
          AND ACCTNBR = 300015146 ) as craigstable 
           WHERE CRAIGSTABLE.BPORDNBR = 110154125523001            -!|
|ACCTNBR?|TRANSNBR?|OPERID?|TRANSTYPE?|BPORDNBR?|BPPYMTIND?|BPAMT?|BPTYPE?|BPRSN?|BILLKEY?|BPINVC?|BPORDER?|BPLATEFEE?|ORIGAMT?|
|300015146|  |0| 14| 110154125523001 | A|0010253| B| NC|  | 01000| 110154125523001| 0000000| 0000000|

!|Query|SELECT ACCTNBR, ZIPCODE, PREFCITYCD, NAMETYPE, NAMEPREFIX, ADDRLINE1, ADDRLINE2, ADDRLINE3, ADDRFROMDT, ADDRTHRUDT, CMBACCTNBR, MATCHCODE, DUPMATCHSW, TELEPHONE, EVEPHONENB, CARRTEZIP4, DELIVERYSW, CUSTSTS, PROMSTS, BIRTHMO, BIRTHDAY, BIRTHYR, STATEABBR, CLNTACCTNO, FXNUMBR, CURRTYPE, MDBACCTNBR, PSTATSWEEP, PSTATTELE, PSTATENVIR, PSTATMAG, PSTATCONT, DELIVERYPT, CARRYRTE, BYPASSSW, SPECIALSTS FROM CLTLIBDTX.XNAME0 WHERE ACCTNBR = 300015146|
|ACCTNBR?| ZIPCODE?| PREFCITYCD?| NAMETYPE?| NAMEPREFIX?| ADDRLINE1?| ADDRLINE2?| ADDRLINE3?| ADDRFROMDT?| ADDRTHRUDT?| CMBACCTNBR?| MATCHCODE?| DUPMATCHSW?| TELEPHONE?| EVEPHONENB?| CARRTEZIP4?| DELIVERYSW?| CUSTSTS?| PROMSTS?| BIRTHMO?| BIRTHDAY?| BIRTHYR?| STATEABBR?| CLNTACCTNO?| FXNUMBR?| CURRTYPE?| MDBACCTNBR?| PSTATSWEEP?| PSTATTELE?| PSTATENVIR?| PSTATMAG?| PSTATCONT?| DELIVERYPT?| CARRYRTE?| BYPASSSW?| SPECIALSTS?|
|300015146| '50315 '| 0| 1|| '6019 W HYATT ST               '||| 110153| 199365| 0| WIG2601HYA&&&| N| 0| 0|| A| N| N| 0| 0| 0||| 0|| 0| N| N| N|| N||| N| N|

!|Query|SELECT * FROM CLTLIBDTX.XCUSTSUM0 WHERE ACCTNBR = 300015146|
|ACCTNBR?| PRODABBR?| STRPROMDT?| STRPROMKEY?| LSTPROMDT?| LSTPROMKEY?| BALANCE?| TIMESORD?| TIMESRTN?| TOTRTNVAL?| TOTPRODORD?| TOTVALUE?| TOTPDVALUE?| CONTINFO?| TAXEXCODE?| LSTBILLKEY?| MEMBRID?| MEMEXPDT?| CUSTGFTST?| CUSTCNTID?| CUSTCRDCD?| COLLECTAGY?| TOTNPD?| LSTNPDDT?| MAXSSEFF?| MX2SSEFF?| MAXFPPEFF?| MX2FPPEFF?| MAX2PPEFF?| MX22PPEFF?| MAXSEREFF?| MX2SEREFF?| LSTCOLLDT?| HBSTATUS?| MODIFYSW?| MODIFYDT?| CREDCARDAR?|
|300015146| TLU| 110154| D07CM1Z005| 0|| -182.51| 3| 4| 434.16| 4| 491.76| 0.00|||| N| 0| B|||| 1| 110154| 0| 0| 0| 0| 0| 0| 0| 0| 0|| Y| 113218| 0.00|

!|Query|SELECT * FROM CLTLIBDTX.XORDERSUM0 WHERE ACCTNBR = 300015146 AND ORDERNBR = 110154125523001|
|ACCTNBR?| PRODABBR?| ORDERNBR?| OPERID?| PROMKEY?| ORDERENTRY?| CREDITSTS?| ORDSTATUS?| ORDSETCODE?| SOURCECODE?| NBRPRODORD?| TOTORDVAL?| TOTPRODVAL?| TOTTAXES?| TOTPOSTHAN?| TOTMISC?| TOTDISC?| AMTDUE?| TOTPAID?| TOTCOUPON?| PONUMBER?| DLVRYMETH?| MAILRCVDT?| DEPOSITDAT?| BATCHNBR?| BILLKEY?| INVOICENBR?| PRVBILLAMT?| LASTBILLDT?| CONTSW?| FASTSHPNBR?| INSTALLSW?| ANCLLRYSW?| INSTALLALW?| INSTALLSNT?| INSTALLAMT?| INSTALLAMD?| OSSHMETH?| OSOVRSHSW?| GFTCERTVAL?| SLSREPNUM?| ORCURRTYPE?| PLANCODE?| INETORDNBR?| SPPRODAGE?| ORDDPN?| INCRIND?| PAIDDATE?| INVOICESTS?| BILLGROUP?| LFOUTSTAND?| WARNEFFORT?| TAXTYPE?| TAXRATEST?| TAXRATECO?| TAXRATECI?| TAXRATEDI?| PREVIEWVAL?| PRESETTYP?| PRESETAMT?| LSTINSRTDT?|
|300015146| TLU| 110154125523001| 594| D07CM1Z005| C| A| A| A| 5| 1| 182.51| 159.96| 9.60| 12.95| 0.00| 0.00| 182.51| 0.00| 0.00||| 110154| 110154| 1000|| 1000| 0.00| 110154131749| N| 0000000000| N| A| 02| 02| 79.98| 0.00| F| N| 0.00| 0|||| 0| 0|| 0|| DSC111| 0.00|| S| 0.060000| 0.000000| 0.000000| 0.000000| 0.00|| 0.00| 0|

!|Query|SELECT * FROM CLTLIBDTX.XORDERSUM0 WHERE ACCTNBR = 300015146 AND ORDERNBR = 110154125617001|
|ACCTNBR?| PRODABBR?| ORDERNBR?| OPERID?| PROMKEY?| ORDERENTRY?| CREDITSTS?| ORDSTATUS?| ORDSETCODE?| SOURCECODE?| NBRPRODORD?| TOTORDVAL?| TOTPRODVAL?| TOTTAXES?| TOTPOSTHAN?| TOTMISC?| TOTDISC?| AMTDUE?| TOTPAID?| TOTCOUPON?| PONUMBER?| DLVRYMETH?| MAILRCVDT?| DEPOSITDAT?| BATCHNBR?| BILLKEY?| INVOICENBR?| PRVBILLAMT?| LASTBILLDT?| CONTSW?| FASTSHPNBR?| INSTALLSW?| ANCLLRYSW?| INSTALLALW?| INSTALLSNT?| INSTALLAMT?| INSTALLAMD?| OSSHMETH?| OSOVRSHSW?| GFTCERTVAL?| SLSREPNUM?| ORCURRTYPE?| PLANCODE?| INETORDNBR?| SPPRODAGE?| ORDDPN?| INCRIND?| PAIDDATE?| INVOICESTS?| BILLGROUP?| LFOUTSTAND?| WARNEFFORT?| TAXTYPE?| TAXRATEST?| TAXRATECO?| TAXRATECI?| TAXRATEDI?| PREVIEWVAL?| PRESETTYP?| PRESETAMT?| LSTINSRTDT?|
|300015146| TLU| 110154125617001| 594| C96AS5B022| C| N| F| A| 5| 1| 252.86| 191.88| 11.51| 49.47| 0.00| 0.00| 0.00| 0.00| 0.00||| 110154| 110154| 1000|| 1001| 0.00| 2| A| 0000000000| Y| A| 02| 01| 95.94| 0.00| A| N| 0.00| 0|| S4W|| 0| 0|| 0|| DTCS4W| 0.00|| S| 0.060000| 0.000000| 0.000000| 0.000000| 0.00|| 0.00| 0|

!|Query|SELECT * FROM CLTLIBDTX.XORDERSUM0 WHERE ACCTNBR = 300015146 AND ORDERNBR = 110181152835001|
|ACCTNBR?| PRODABBR?| ORDERNBR| OPERID?| PROMKEY?| ORDERENTRY?| CREDITSTS?| ORDSTATUS?| ORDSETCODE?| SOURCECODE?| NBRPRODORD?| TOTORDVAL?| TOTPRODVAL?| TOTTAXES?| TOTPOSTHAN?| TOTMISC?| TOTDISC?| AMTDUE?| TOTPAID?| TOTCOUPON?| PONUMBER?| DLVRYMETH?| MAILRCVDT?| DEPOSITDAT?| BATCHNBR?| BILLKEY?| INVOICENBR?| PRVBILLAMT?| LASTBILLDT?| CONTSW?| FASTSHPNBR| INSTALLSW?| ANCLLRYSW?| INSTALLALW?| INSTALLSNT?| INSTALLAMT?| INSTALLAMD?| OSSHMETH?| OSOVRSHSW?| GFTCERTVAL?| SLSREPNUM?| ORCURRTYPE?| PLANCODE?| INETORDNBR?| SPPRODAGE?| ORDDPN?| INCRIND?| PAIDDATE| INVOICESTS?| BILLGROUP?| LFOUTSTAND?| WARNEFFORT?| TAXTYPE?| TAXRATEST?| TAXRATECO?| TAXRATECI?| TAXRATEDI?| PREVIEWVAL?| PRESETTYP?| PRESETAMT?| LSTINSRTDT?|
|300015146| TLU| 110181152835001| 594| C96AS5B022| C| N| F| A| 5| 2| 181.30| 139.92| 8.40| 32.98| 0.00| 0.00| 0.00| 0.00| 0.00||| 110181| 110181| 1004|| 1002| 0.00| 0| A| 0000000000| Y| A| 02| 01| 69.96| 0.00| A| N| 0.00| 0|| S4W|| 0| 0|| 0|| DTCS4W| 0.00|| S| 0.060000| 0.000000| 0.000000| 0.000000| 0.00|| 0.00| 0|

!|Query|SELECT * FROM CLTLIBDTX.XORDERDTL0 WHERE ACCTNBR = 300015146 AND ORDERNBR = 110181152835001|
|ACCTNBR?| PRODABBR?| ORDERNBR?| PRODNBR?| PRODSIZE?| PRODSTYLE?| PRODCOLOR?| ORDDETSTAT?| SERVICECDE?| ORDERTYPE?| PAYTYPE?| QTYORDERED?| PRODVALUE?| MISCSW?| MISCCHARGE?| SERVICEDT?| DSACCTNBR?| RESHIPDATE?| FTC1STDT?| FTC2NDDT?| FTCACPTDLY?| NOTPULLRSN?| SHIPJOBNM?| SHIPIND?| ODPRODCOST?| ODTXEXST?| ODASHPDT?| ODASHPCST?| ODASHPMTD?| SHPTRKNUM?| CDSTRKNUM?| DSTRBCDE?| PERSONALZ?| ITMSHVAL?| ITMSEQNUM?| ITMQTYRET?| ITMQTYCAN?| QTYTORSHP?| CNFRMAPDT?| PLANCODE?| GENSEQNO?| PROMKEY?| ENLISTSW?| PULLCODE?| PACKID?| PREMPACK?| ORIGPRDNBR?| ORIGPACKID?| PREMEFFT?| PREMDAYSHP?| PREMPAYTYP?| MMPSTATUS?| MMPISSUES?| MMPVALUE?| PRODTAXES?| PREVIEWVAL?| PREVIEWDYS?| DEFRINCDTE?| AMTDUE?| INSTALLSW?| ANCLLRYSW?| INSTALLAMT?| INSTALLAMD?|
|300015146| TLU| 110181152835001| '4328220292  '|||| C| 'B '| N| B| 1| 63.96|| 0.00| 110181| 0| 0| 0| 0| N| A| N10181864R| Y| 0.00|| 110181| 0.00| B|| 1018100000740| ED1| N| 16.49| 1| 1| 0| 0| 110182| S4W| 1| C96AS5B022|| '71  '|||||| 0||| 0| 0.00| 3.84| 0.00| 0| 0| 0.00||| 0.00| 0.00|
|300015146| TLU| 110181152835001| '4413218482  '|||| C| 'B '| N| B| 1| 75.96|| 0.00| 110181| 0| 0| 0| 0| N| A| N10181864R| Y| 0.00|| 110181| 0.00| B|| 1018100000740| ED1| N| 16.49| 2| 1| 0| 0| 110182| S4W| 1| C96AS5B022|| '71  '|||||| 0||| 0| 0.00| 4.56| 0.00| 0| 0| 0.00||| 0.00| 0.00|

!|Query|SELECT * FROM CLTLIBDTX.XORDERDTL0 WHERE ACCTNBR = 300015146 AND ORDERNBR = 110154125523001|
|ACCTNBR?| PRODABBR?| ORDERNBR?| PRODNBR?| PRODSIZE?| PRODSTYLE?| PRODCOLOR?| ORDDETSTAT?| SERVICECDE?| ORDERTYPE?| PAYTYPE?| QTYORDERED?| PRODVALUE?| MISCSW?| MISCCHARGE?| SERVICEDT?| DSACCTNBR?| RESHIPDATE?| FTC1STDT?| FTC2NDDT?| FTCACPTDLY?| NOTPULLRSN?| SHIPJOBNM?| SHIPIND?| ODPRODCOST?| ODTXEXST?| ODASHPDT?| ODASHPCST?| ODASHPMTD?| SHPTRKNUM?| CDSTRKNUM?| DSTRBCDE?| PERSONALZ| ITMSHVAL?| ITMSEQNUM?| ITMQTYRET?| ITMQTYCAN?| QTYTORSHP?| CNFRMAPDT?| PLANCODE?| GENSEQNO?| PROMKEY?| ENLISTSW?| PULLCODE?| PACKID?| PREMPACK?| ORIGPRDNBR?| ORIGPACKID?| PREMEFFT?| PREMDAYSHP?| PREMPAYTYP?| MMPSTATUS?| MMPISSUES?| MMPVALUE?| PRODTAXES?| PREVIEWVAL?| PREVIEWDYS?| DEFRINCDTE?| AMTDUE?| INSTALLSW?| ANCLLRYSW?| INSTALLAMT?| INSTALLAMD?|
|300015146| TLU| 110154125523001| '4400209922  '|||| A| 'B '| N| B| 1| 159.96|| 0.00| 110154| 0| 0| 110184| 0| N| A| N10154750E| Y| 0.00|| 110154| 0.00| B| '0                             '| 1015400001710| ED1| N| 12.95| 1| 0| 0| 0| 110154|| 0| D07CM1Z005|| '72  '|||||| 0||| 0| 0.00| 9.60| 0.00| 0| 0| 0.00||| 0.00| 0.00|

!|Query|SELECT * FROM CLTLIBDTX.XORDERDTL0 WHERE ACCTNBR = 300015146 AND ORDERNBR = 110154125617001|
|ACCTNBR?| PRODABBR?| ORDERNBR?| PRODNBR?| PRODSIZE?| PRODSTYLE?| PRODCOLOR?| ORDDETSTAT?| SERVICECDE?| ORDERTYPE?| PAYTYPE?| QTYORDERED?| PRODVALUE?| MISCSW?| MISCCHARGE?| SERVICEDT?| DSACCTNBR?| RESHIPDATE?| FTC1STDT?| FTC2NDDT?| FTCACPTDLY?| NOTPULLRSN?| SHIPJOBNM?| SHIPIND?| ODPRODCOST?| ODTXEXST?| ODASHPDT?| ODASHPCST?| ODASHPMTD?| SHPTRKNUM?| CDSTRKNUM?| DSTRBCDE?| PERSONALZ?| ITMSHVAL?| ITMSEQNUM?| ITMQTYRET?| ITMQTYCAN?| QTYTORSHP?| CNFRMAPDT?| PLANCODE?| GENSEQNO?| PROMKEY?| ENLISTSW?| PULLCODE?| PACKID?| PREMPACK?| ORIGPRDNBR?| ORIGPACKID?| PREMEFFT?| PREMDAYSHP?| PREMPAYTYP?| MMPSTATUS?| MMPISSUES?| MMPVALUE?| PRODTAXES?| PREVIEWVAL?| PREVIEWDYS?| DEFRINCDTE?| AMTDUE?| INSTALLSW?| ANCLLRYSW?| INSTALLAMT?| INSTALLAMD?|
|300015146| TLU| 110154125617001| '4328220292  '|||| C| 'B '| N| B| 3| 63.96|| 0.00| 110154| 0| 0| 0| 0| N| A| N10154750A| Y| 0.00|| 110154| 0.00| B| '0                             '| 1015400001708| ED1| N| 49.47| 1| 3| 0| 0| 110154| S4W| 1| C96AS5B022|| '71  '|||||| 0||| 0| 0.00| 11.51| 0.00| 0| 0| 0.00||| 0.00| 0.00|

!|Query|!- SELECT * FROM (
SELECT ACCTNBR, TRANSNBR, OPERID, TRANSTYPE,            
 SUBSTR(HEX(ACTMISC),1,15) AS ORDNBR,               
    SUBSTR(HEX(ACTMISC),17,7) AS AMT,
    SUBSTR(ACTMISC,13,1) AS MTHD,                 
    SUBSTR(ACTMISC,14,1) AS RSN,                 
    SUBSTR(ACTMISC,15,1) AS HOWCRTD,
    SUBSTR(HEX(ACTMISC),31,7) AS RPTDATE,                   
    SUBSTR(ACTMISC,20,1) AS RPTUNDELV,               
    SUBSTR(ACTMISC,21,1) AS REAPPLIED,                   
    SUBSTR(ACTMISC,22,3) AS MIGPRODABBR,                
    SUBSTR(ACTMISC,25,1) AS REFUNDSTS 
         FROM CLTLIBDTX.XACTIVITY0 WHERE TRANSTYPE = 05
         AND ACCTNBR = 300015146   ) AS CRAIGSTABLE
         WHERE CRAIGSTABLE.ORDNBR = 110181152835001 AND CRAIGSTABLE.AMT = 5000                        -!|                                
|ACCTNBR?|TRANSNBR?|OPERID?|TRANSTYPE?|ORDNBR?|AMT?|MTHD?|RSN?|HOWCRTD?|RPTDATE?|RPTUNDELV?|REAPPLIED?|MIGPRODABBR?|REFUNDSTS?|
|300015146||594| 5| 110181152835001| 0005000| B| A| A|  |A  |  | '   '| A|

!|Query|!- select * from (     
SELECT ACCTNBR, TRANSNBR,OPERID, TRANSTYPE, 
SUBSTR(HEX(ACTMISC),1 ,15) AS ORDNBR,               
    SUBSTR(ACTMISC,9,1) AS CCIND,                 
    SUBSTR(HEX(ACTMISC),19,7) AS CCAMT,                   
    SUBSTR(HEX(ACTMISC),27,7) AS CCDATE,               
    SUBSTR(HEX(ACTMISC),35,5) AS INVOICE,                   
    SUBSTR(ACTMISC,21,2) AS RJCTRSN,                
    SUBSTR(HEX(ACTMISC),45,3) AS SEQNBR,                
    SUBSTR(ACTMISC,25,6) AS AUTHCODE,                   
    SUBSTR(ACTMISC,31,6) AS AUTHDATE,
    SUBSTR(ACTMISC,37,14) AS AUTHREFNBR,               
    SUBSTR(HEX(ACTMISC),101,7) AS ORIGAMT,
    SUBSTR(ACTMISC,55,2) AS PRESETTYPE
         FROM CLTLIBDTX.XACTIVITY0 WHERE TRANSTYPE = 16
          AND ACCTNBR = 300015146  ) as craigstable 
            WHERE CRAIGSTABLE.TRANSNBR = 110154131749000            -!|
|ACCTNBR?|TRANSNBR?|OPERID?|TRANSTYPE?|ORDNBR?|CCIND?|CCAMT?|CCDATE?|INVOICE?|RJCTRSN?|SEQNBR?|AUTHCODE?|AUTHDATE?|AUTHREFNBR?|ORIGAMT?|PRESETTYPE?|
|300015146|110154131749000|0|16|110154125523001|D|0010253| |01000||000||000000||0010253||
