!lastmodified ----- 
!contents 
!include .ServPfTests.DefaultSettings

!define client {MSP}
!define sendOrderService {https://qa-service.mycdsglobal.com/ws/service/order/}
!define lookupCustomerService {https://qa-service.mycdsglobal.com/ws/service/customer/}
!define lookupOrderService {https://qa-service.mycdsglobal.com/ws/service/order/}
!define lookupSeriesService {https://qa-service.mycdsglobal.com/ws/service/series/}

!3 gift, single shot, fully paid presettled paypal order, with multi items (all single shots).
!4 Donor has foreign zip
!|smartrics.rest.fitnesse.fixture.CdsRestFixture|${sendOrderService}${client}/|
|setBody| <order><transactionSource> <emplId>302</emplId> </transactionSource><promotionKey>WHOLESALEI</promotionKey><internetNumber>INET0000005</internetNumber><customer><name>Mad Maxx</name><address1>6524 GUMTREE DR</address1><address2>gift multitem singleshot</address2><address3>Order #1 donor</address3><city>Bath</city><state></state><zipCode>Z31AAA</zipCode></customer><payment><paymentType>presettled</paymentType><creditCardNumber></creditCardNumber><creditCardType>PY</creditCardType><creditCardExpire>1124</creditCardExpire><authorizationCode></authorizationCode><authorizationDate>2013-09-13</authorizationDate><authorizationReference>233456789PAYPAL67</authorizationReference> <authorizationInd>P</authorizationInd><presettledSwitch>Y</presettledSwitch><amountPaid>159.50</amountPaid></payment><orderItem><productNumber>CAC1111</productNumber><quantity>1</quantity><value>19.50</value></orderItem><orderItem><productNumber>APW2009</productNumber> <quantity>1</quantity> <value>70.00</value> <customerGetsRefund>N</customerGetsRefund></orderItem><orderItem><productNumber>APW2009</productNumber><quantity>1</quantity><value>70.00</value><orderType/><previewItem/><previewAmt/><previewDays/><customerGetsRefund>N</customerGetsRefund><giftMessage>Enjoy the gift Dokes!</giftMessage><recipient><name>Spokey Dokes</name><address1>883 451st Ave</address1><address2>gift multitem single shot</address2><address3>Order #1 recip #1</address3><city>Winterset</city> <state>IA</state><zipCode>50273</zipCode><email>spokeme@cds-global.com</email><phoneNumber/><phoneNumber2/></recipient></orderItem></order>|
| POST   | /resources/ | 201 | Content-Type : text/xml|//isSuccess[text()='true']|
| let |acctNbr| body |//accountNumber/text()| |

!4 Gift order, with email.
!4 Recipient has foreign zip
!|smartrics.rest.fitnesse.fixture.CdsRestFixture|${sendOrderService}${client}/|
|setBody|<order><transactionSource> <emplId>302</emplId> </transactionSource><promotionKey>WHOLESALEI</promotionKey><sourceCode>10</sourceCode><internetNumber>INET00006</internetNumber><poNumber>335587PO</poNumber><shippingAndHandlingAmt>3.00</shippingAndHandlingAmt><customer><accountNumber></accountNumber><name>Psy chotic</name><address1>8733 Spruce Dr</address1><address2>gift multitem singleshot</address2><address3>Order #2 donor</address3><city>Des Moines</city> <state>IA</state><zipCode>50315</zipCode><email>nutsoe@this.net</email></customer><payment><paymentType>presettled</paymentType> <creditCardType>PY</creditCardType> <creditCardNumber></creditCardNumber> <creditCardExpire>1124</creditCardExpire><authorizationCode>ABC5244Z</authorizationCode><authorizationDate/><authorizationReference>233456789PAYPAL</authorizationReference><authorizationInd>P</authorizationInd><authorizationCode/> <presettledSwitch>Y</presettledSwitch><amountPaid>91.00</amountPaid></payment><orderItem><productNumber>CAC1111</productNumber> <quantity>1</quantity> <value>19.50</value> <customerGetsRefund>N</customerGetsRefund></orderItem><orderItem><productNumber>APW2009</productNumber> <quantity>1</quantity> <value>70.00</value> <customerGetsRefund>N</customerGetsRefund></orderItem><orderItem><productNumber>APW2009</productNumber><quantity>1</quantity><value>70.00</value><orderType/><previewItem/><previewAmt/><previewDays/><customerGetsRefund>N</customerGetsRefund><giftMessage>Enjoy the gift Mr. Marl!</giftMessage><recipient><name>Marley Marl</name><address1>999 Crackback Ave</address1><address2>gift multitem single shot</address2><address3>Order #1 recip #1</address3><city>Bath</city> <state></state><zipCode>Z31AAA</zipCode><email>mars22@cds-global.com</email><phoneNumber/><phoneNumber2/></recipient></orderItem></order> | 
| POST   | /resources/ | 201 | Content-Type : text/xml|//isSuccess[text()='true']|
| let |acctNbr| body |//accountNumber/text()||

!4 Gift order, with email. 
!|smartrics.rest.fitnesse.fixture.CdsRestFixture|${sendOrderService}${client}/|
|setBody|<order><transactionSource> <emplId>302</emplId> </transactionSource><promotionKey>WHOLESALEI</promotionKey><sourceCode>10</sourceCode><internetNumber>INET00000007</internetNumber><poNumber>335587PO</poNumber><shippingAndHandlingAmt>3.00</shippingAndHandlingAmt><customer><accountNumber></accountNumber><name>DATLIL PIGGIE</name><address1>224 Ashland Dr</address1><address2>gift multitem singleshot</address2><address3>Order #3 donor</address3><city>Des Moines</city> <state>IA</state><zipCode>50312</zipCode><email>pigdude@this.net</email></customer><payment><paymentType>presettled</paymentType> <creditCardType>PY</creditCardType> <creditCardNumber></creditCardNumber> <creditCardExpire>1124</creditCardExpire><authorizationCode>ABC5244Z</authorizationCode><authorizationDate/><authorizationReference>233456789PAYPAL</authorizationReference><authorizationInd>P</authorizationInd><authorizationCode/> <presettledSwitch>Y</presettledSwitch><amountPaid>162.50</amountPaid></payment><orderItem><productNumber>CAC1111</productNumber> <quantity>1</quantity> <value>19.50</value> <customerGetsRefund>N</customerGetsRefund></orderItem><orderItem><productNumber>APW2009</productNumber> <quantity>1</quantity> <value>70.00</value> <customerGetsRefund>N</customerGetsRefund></orderItem><orderItem><productNumber>APW2009</productNumber><quantity>1</quantity><value>70.00</value><orderType/><previewItem/><previewAmt/><previewDays/><customerGetsRefund>N</customerGetsRefund><giftMessage>Enjoy the gift Lazy!</giftMessage><recipient><name>Lazy Susana</name><address1>3113 Yorkshire Ave</address1><address2>gift multitem single shot</address2><address3>Order #3 recip #1</address3><city>Winterset</city> <state>IA</state><zipCode>50273</zipCode><email>solazy@cds-global.com</email><phoneNumber/><phoneNumber2/></recipient></orderItem></order> | 
| POST   | /resources/ | 201 | Content-Type : text/xml|//isSuccess[text()='true']|
| let |acctNbr| body |//accountNumber/text()||
